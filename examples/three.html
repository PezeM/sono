<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
        <title>sono - examples - 3d</title>
        <link href="favicon.ico" rel="shortcut icon">
        <link href="css/styles.css" rel="stylesheet">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/darcula.min.css">
    </head>

    <body>
        <div>
            <section>
                <div style="position: absolute; top: 0; left: 0; width: 100%; color: white; z-index: 1; pointer-events: none;">
                    <header>
                        <h2 style="color: white">3d Panning</h2>
                    </header>


                    <div class="Controls">
                        <p>Use the arrow keys to move around.</p>
                    </div>
                </div>

                <div class="Controls" data-container></div>

            <pre><code class="js">
    import sono from 'sono';
    import 'sono/effects';

    const sound = sono.create({
        url: 'pulsar.mp3',
        loop: true,
        effects: [
            sono.panner({
                maxDistance: 1000
            })
        ]
    });
    const mesh = new THREE.Mesh(geometry, material);
    // set source position to the position vector of sound source
    sound.effects[0].setPosition(mesh.position);

    function update() {
        window.requestAnimationFrame(update);
        // set listener position to the position vector of the camera
        sono.panner.setListenerPosition(camera.position);
        // set listener orientation to the forward vector of the camera
        const forward = new THREE.Vector3(0, 0, -1);
        forward.applyQuaternion(camera.quaternion);
        sono.panner.setListenerOrientation(forward.normalize());
    }
    update();
            </code></pre>

            </section>
        </div>

        <script src="js/disable.js"></script>
        <script src="../dist/sono.js"></script>
        <script src="js/base-url.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/three.js/84/three.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/dat-gui/0.6.3/dat.gui.min.js"></script>
        <script src="//threejs.org/examples/js/controls/TrackballControls.js"></script>
        <script src="//threejs.org/examples/js/controls/FirstPersonControls.js"></script>
        <script src="//cdn.rawgit.com/ianmcgregor/boid/cef69760/dist/boid.min.js"></script>
        <script src="js/three.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>

</html>
