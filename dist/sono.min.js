!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.sono=t()}(this,function(){"use strict";function e(){function e(){}function t(){return{value:1,defaultValue:1,linearRampToValueAtTime:e,setValueAtTime:e,exponentialRampToValueAtTime:e,setTargetAtTime:e,setValueCurveAtTime:e,cancelScheduledValues:e}}function n(){return{connect:e,disconnect:e,frequencyBinCount:0,smoothingTimeConstant:0,fftSize:0,minDecibels:0,maxDecibels:0,getByteTimeDomainData:e,getByteFrequencyData:e,getFloatTimeDomainData:e,getFloatFrequencyData:e,gain:t(),panningModel:0,setPosition:e,setOrientation:e,setVelocity:e,distanceModel:0,refDistance:0,maxDistance:0,rolloffFactor:0,coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,type:0,frequency:t(),Q:t(),detune:t(),delayTime:t(),buffer:0,threshold:t(),knee:t(),ratio:t(),attack:t(),release:t(),reduction:t(),oversample:0,curve:0,sampleRate:1,length:0,duration:0,numberOfChannels:0,getChannelData:function(){return[]},copyFromChannel:e,copyToChannel:e,dopplerFactor:0,speedOfSound:0,start:e}}var o=Date.now();return window.Uint8Array||(window.Uint8Array=window.Float32Array=Array),{isFake:!0,createAnalyser:n,createBuffer:n,createBiquadFilter:n,createChannelMerger:n,createChannelSplitter:n,createDynamicsCompressor:n,createConvolver:n,createDelay:n,createGain:n,createOscillator:n,createPanner:n,createScriptProcessor:n,createWaveShaper:n,destination:n,listener:n(),state:"",get currentTime(){return(Date.now()-o)/1e3}}}function t(){var t=44100,n=window.AudioContext||window.webkitAudioContext||e,o=new n;if(/(iPhone|iPad)/i.test(navigator.userAgent)&&o.sampleRate!==t){var r=o.createBuffer(1,1,t),i=o.createBufferSource();i.buffer=r,i.connect(o.destination),i.start(0),i.disconnect(),o.close(),o=new n}var a="suspended"===o.state;return a&&"function"==typeof o.resume&&window.setTimeout(function(){o.resume()},1e3),o}function n(e){if("string"!=typeof e)return"";if("data:"===e.slice(0,5)){var t=e.match(/data:audio\/(ogg|mp3|opus|wav|m4a)/i);if(t&&t.length>1)return t[1].toLowerCase()}e=e.split("?")[0],e=e.slice(e.lastIndexOf("/")+1);var n=e.split(".");return 1===n.length||""===n[0]&&2===n.length?"":n.pop().toLowerCase()}function o(e){var t=void 0;if(Array.isArray(e))for(var o=0;o<e.length;o++){t=e[o];var r=n(t);if(oe.indexOf(r)>-1)break}else"object"===("undefined"==typeof e?"undefined":K(e))&&Object.keys(e).some(function(o){t=e[o];var r=n(t);return oe.indexOf(r)>-1});return t||e}function r(e){return!!(e&&window.AudioBuffer&&e instanceof window.AudioBuffer)}function i(e){return!!(e&&window.ArrayBuffer&&e instanceof window.ArrayBuffer)}function a(e){return!!(e&&window.HTMLMediaElement&&e instanceof window.HTMLMediaElement)}function u(e){return!!(e&&"function"==typeof e.getAudioTracks&&e.getAudioTracks().length&&window.MediaStreamTrack&&e.getAudioTracks()[0]instanceof window.MediaStreamTrack)}function s(e){return!(!e||"string"!=typeof e||"sine"!==e&&"square"!==e&&"sawtooth"!==e&&"triangle"!==e)}function c(e){return!!(e&&"object"===("undefined"==typeof e?"undefined":K(e))&&e.bufferSize&&e.channels&&e.callback)}function f(e){return!(!e||"string"!=typeof e||!(e.indexOf(".")>-1||"data:"===e.slice(0,5)))}function l(e){if(!e||a(e))return!1;var t=e.src||e.url||e.data||e;return f(t)||i(t)||Array.isArray(t)&&f(t[0])}function d(e,t){function n(e,t){var n=void 0;return e||0===e?(y.some(function(t){return(t===e||t.id===e)&&(n=t,!0)}),n&&t?t(n):n):n}function o(e){return n(e,function(e){return y.splice(y.indexOf(e),1)}),w}function r(e){return e.gain.disconnect(),e.gain.connect(m),y.push(e),e.once("destroy",o),w}function i(e,t){return y.forEach(function(n){return n.play(e,t)}),w}function a(){return y.forEach(function(e){e.playing&&e.pause()}),w}function u(){return y.forEach(function(e){e.paused&&e.play()}),w}function s(){return y.forEach(function(e){return e.stop()}),w}function c(e){return y.forEach(function(t){return t.seek(e)}),w}function f(){return b=w.volume,w.volume=0,w}function l(){return w.volume=b||1,w}function d(e){return w.volume=e,w}function h(t,n){if(e){var o=m.gain,r=e.currentTime;o.cancelScheduledValues(r),o.setValueAtTime(o.value,r),o.linearRampToValueAtTime(t,r+n)}else y.forEach(function(e){return e.fade(t,n)});return w}function p(){y.forEach(function(e){return e.load(null,!0)})}function v(){y.forEach(function(e){return e.unload()})}function _(){for(;y.length;)y.pop().destroy()}var y=[],g=new se(e),m=e.createGain(),b=1,w=null;return e&&(g.setSource(m),g.setDestination(t||e.destination)),w={add:r,find:n,remove:o,play:i,pause:a,resume:u,stop:s,seek:c,setVolume:d,mute:f,unMute:l,fade:h,load:p,unload:v,destroy:_,gain:m,get effects(){return g._nodes},set effects(e){g.removeAll().add(e)},get fx(){return this.effects},set fx(e){this.effects=e},get sounds(){return y},get volume(){return m.gain.value},set volume(t){isNaN(t)||(t=Math.min(Math.max(t,0),1),e?(m.gain.cancelScheduledValues(e.currentTime),m.gain.value=t,m.gain.setValueAtTime(t,e.currentTime)):m.gain.value=t,y.forEach(function(e){e.context||(e.groupVolume=t)}))}}}function h(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function p(e){return"function"==typeof e}function v(e){return"number"==typeof e}function _(e){return"object"==typeof e&&null!==e}function y(e){return void 0===e}function g(e,t){function n(){_.off("error"),_.off("progress"),_.off("complete"),_.off("loaded"),k&&"function"==typeof k.removeEventListener&&(k.removeEventListener("canplaythrough",s),k.removeEventListener("error",i)),b&&(b.removeEventListener("progress",r),b.removeEventListener("load",u),b.removeEventListener("error",i))}function o(e){_.emit("progress",1),_.emit("loaded",e),_.emit("complete",e),n()}function r(e){e.lengthComputable&&(y=e.loaded/e.total,_.emit("progress",y))}function i(t){window.clearTimeout(w);var o=t;k&&k.error&&(o="Media Error: "+v[k.error.code]+" "+e),b&&(o="XHR Error: "+b.status+" "+b.statusText+" "+e),_.emit("error",o),n()}function a(e){g.decodeAudioData(e,function(e){k=e,b=null,y=1,o(e)},i)}function u(){a(b.response)}function s(){window.clearTimeout(w),k&&(y=1,o(k))}function c(){n(),b&&4!==b.readyState&&b.abort(),b=null,window.clearTimeout(w)}function f(){c(),b=null,k=null,g=null}function l(){return e instanceof window.ArrayBuffer?void a(e):(b=new XMLHttpRequest,b.open("GET",e,!0),b.responseType="arraybuffer",b.addEventListener("progress",r),b.addEventListener("load",u),b.addEventListener("error",i),void b.send())}function d(){k&&k.tagName||(k=document.createElement("audio")),m||(window.clearTimeout(w),w=window.setTimeout(s,2e3),k.addEventListener("canplaythrough",s,!1)),k.addEventListener("error",i,!1),k.preload="auto",k.src=e,k.load(),m&&o(k)}function h(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];t&&!e||(g?l():d())}function p(t){e=t,h()}var v=["","ABORTED","NETWORK","DECODE","SRC_NOT_SUPPORTED"],_=new le,y=0,g=void 0,m=void 0,b=void 0,w=void 0,k=void 0,x={on:_.on.bind(_),once:_.once.bind(_),off:_.off.bind(_),load:p,start:h,cancel:c,destroy:f};return Object.defineProperties(x,{data:{get:function(){return k}},progress:{get:function(){return y}},audioContext:{set:function(e){g=e}},isTouchLocked:{set:function(e){m=e}}}),Object.freeze(x)}function m(e,t,n){function o(){return!y&&t&&(y=t.createBufferSource(),y.buffer=e),y}function r(){if(y){y.onended=null;try{y.disconnect(),y.stop(0)}catch(e){}y=null}h=!1,p=0,_=!1,g=0}function i(){var e=t.currentTime-g;r(),p=e,_=!1,h=!0}function a(){r(),f=!0,"function"==typeof l&&l(c)}function u(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];if(!_){for(e=e?t.currentTime+e:0,n&&(p=0),p&&(n=p);n>c.duration;)n%=c.duration;o(),y.onended=a,y.start(e,n),y.loop=d,y.playbackRate.value=v,g=t.currentTime-n,f=!1,h=!1,p=0,_=!0}}function s(){r(),e=null,t=null,l=null,y=null}var c={},f=!1,l=n,d=!1,h=!1,p=0,v=1,_=!1,y=null,g=0;return Object.defineProperties(c,{play:{value:u},pause:{value:i},stop:{value:r},destroy:{value:s},currentTime:{get:function(){if(p)return p;if(g){var e=t.currentTime-g;return e>c.duration&&(e%=c.duration),e}return 0}},duration:{get:function(){return e?e.duration:0}},ended:{get:function(){return f}},loop:{get:function(){return d},set:function(e){d=!!e,y&&(y.loop=d)}},paused:{get:function(){return h}},playbackRate:{get:function(){return v},set:function(e){v=e,y&&(y.playbackRate.value=v)}},playing:{get:function(){return _}},progress:{get:function(){return c.duration?c.currentTime/c.duration:0}},sourceNode:{get:function(){return o()}}}),Object.freeze(c)}function b(e,t,n){if(de)return de;e=e||2,n=n||44100,t=n||e;var o=window.OfflineAudioContext||window.webkitOfflineAudioContext;return de=o?new o(e,t,n):null}function w(e){if(!X)return e;for(var t=e.numberOfChannels,n=X.createBuffer(t,e.length,e.sampleRate),o=0;o<t;o++)n.getChannelData(o).set(e.getChannelData(o));return n}function k(e){for(var t=e.numberOfChannels,n=0;n<t;n++)Array.prototype.reverse.call(e.getChannelData(n));return e}function x(e,t,n,o,r){X.isFake||(e.setValueAtTime(t,X.currentTime),r?e.linearRampToValueAtTime(n,X.currentTime+o):e.exponentialRampToValueAtTime(n,X.currentTime+o))}function T(e){if(X.isFake)return 0;var t=40,n=X.sampleRate/2,o=Math.log(n/t)/Math.LN2,r=Math.pow(2,o*(e-1));return n*r}function S(e){var t=arguments.length<=1||void 0===arguments[1]?":":arguments[1],n=Math.floor(e/60),o=Math.floor(e%3600%60),r=(n<10?"0"+n:n)+t,i=o<10?"0"+o:o;return r+i}function L(e,t,n,o){function r(){return p}function i(e){e.stop(),m&&_.push(e)}function a(e){if(y.length>1){var t=y.indexOf(e);y.splice(t,1)}i(e),o()}function u(){return!m&&y.length?y[0]:_.length>0?_.pop():(g++,t.tagName?new e(t.cloneNode(),n,a):new e(t,n,a))}function s(){var e=u();p&&e.sourceNode.connect(p),e!==y[0]&&y.push(e),e.play()}function c(){for(;y.length>1;)i(y.pop())}function f(){y.forEach(function(e){return e.pause()})}function l(e){c(),_.length=0,y.length&&y[0].load(e)}function d(e,t){y.forEach(function(n){return n.fade(e,t)})}function h(){for(;y.length;)y.pop().destroy();for(;_.length;)_.pop().destroy();p.disconnect()}var p=n?n.createGain():null,v={},_=[],y=[],g=0,m=!1;return Object.defineProperties(v,{play:{value:s},pause:{value:f},stop:{value:c},load:{value:l},fade:{value:d},destroy:{value:h},currentTime:{get:function(){return y[0]&&y[0].currentTime||0}},duration:{get:function(){return y[0]&&y[0].duration||0}},ended:{get:function(){return y.every(function(e){return e.ended})}},multiPlay:{get:function(){return m},set:function(e){m=e}},loop:{get:function(){return y[0]&&y[0].loop},set:function(e){y.forEach(function(t){return t.loop=!!e})}},paused:{get:function(){return y[0]&&y[0].paused}},playbackRate:{get:function(){return y[0]&&y[0].playbackRate},set:function(e){y.forEach(function(t){return t.playbackRate=e})}},playing:{get:function(){return y[0]&&y[0].playing}},info:{get:function(){return{pooled:_.length,active:y.length,created:g}}},progress:{get:function(){return y[0]&&y[0].progress}},sourceNode:{get:function(){return r()}},volume:{get:function(){return y[0]&&y[0].volume},set:function(e){y.forEach(function(t){return t.volume=e})}},groupVolume:{get:function(){return y[0]&&y[0].groupVolume},set:function(e){y[0]&&!y[0].hasOwnProperty("groupVolume")||y.forEach(function(t){return t.groupVolume=e})}}}),Object.freeze(v)}function A(e,t,n){function o(){return!w&&t&&(w=t.createMediaElementSource(e)),w}function r(t){e.src=t,e.load(),h=!1,g=!1,b=!1}function i(){e.removeEventListener("canplaythrough",i),b&&e.play()}function a(){return y?(e.currentTime=0,e.currentTime>0&&e.load(),void e.play()):(h=!0,g=!1,b=!1,void("function"==typeof p&&p(d)))}function u(t,n){clearTimeout(v),e.volume=x*k,e.playbackRate=m,n&&(e.currentTime=n),t?v=setTimeout(u,t):e.play(),h=!1,g=!1,b=!0,e.removeEventListener("ended",a),e.addEventListener("ended",a,!1),e.readyState<1&&(e.removeEventListener("canplaythrough",i),e.addEventListener("canplaythrough",i,!1),e.load(),e.play())}function s(){clearTimeout(v),e&&(e.pause(),b=!1,g=!0)}function c(){if(clearTimeout(v),e){e.pause();try{e.currentTime=0,e.currentTime>0&&e.load()}catch(e){}b=!1,g=!1}}function f(e,n){function o(e,t){_=window.setTimeout(function(){return d.volume=d.volume+.2*(e-d.volume),Math.abs(d.volume-e)>.05?void o(e,t):void(d.volume=e)},1e3*t)}return t?d:(window.clearTimeout(_),o(e,n/10),d)}function l(){e.removeEventListener("ended",a),e.removeEventListener("canplaythrough",i),c(),e=null,t=null,p=null,w=null}var d={},h=!1,p=n,v=void 0,_=void 0,y=!1,g=!1,m=1,b=!1,w=null,k=1,x=1;return Object.defineProperties(d,{play:{value:u},pause:{value:s},stop:{value:c},load:{value:r},fade:{value:f},destroy:{value:l},currentTime:{get:function(){return e?e.currentTime:0}},duration:{get:function(){return e?e.duration:0}},ended:{get:function(){return h}},loop:{get:function(){return y},set:function(e){y=!!e}},paused:{get:function(){return g}},playbackRate:{get:function(){return m},set:function(t){m=t,e&&(e.playbackRate=m)}},playing:{get:function(){return b}},progress:{get:function(){return e&&e.duration?e.currentTime/e.duration:0}},sourceNode:{get:function(){return o()}},volume:{get:function(){return x},set:function(t){window.clearTimeout(_),x=t,e&&(e.volume=x*k)}},groupVolume:{get:function(){return k},set:function(t){k=t,e&&(e.volume=x*k)}}}),Object.freeze(d)}function E(e,t){function n(){return!l&&t&&(l=t.createMediaStreamSource(e),navigator.mozGetUserMedia&&(window.mozHack=l)),l}function o(e){e=e?t.currentTime+e:0,n(),l.start(e),d=t.currentTime-c,u=!1,f=!0,s=!1,c=0}function r(){if(l){try{l.stop(0)}catch(e){}l=null}u=!0,s=!1,c=0,f=!1,d=0}function i(){var e=t.currentTime-d;r(),c=e,f=!1,s=!0}function a(){r(),t=null,l=null,e=null,window.mozHack=null}var u=!1,s=!1,c=0,f=!1,l=null,d=0,h={play:o,pause:i,stop:r,destroy:a,duration:0,progress:0};return Object.defineProperties(h,{currentTime:{get:function(){return c?c:d?t.currentTime-d:0}},ended:{get:function(){return u}},paused:{get:function(){return s}},playing:{get:function(){return f}},sourceNode:{get:function(){return n()}}}),Object.freeze(h)}function M(e,t){function n(){return!l&&t&&(l=t.createOscillator(),l.type=e,l.frequency.value=h),l}function o(e){e=e||0,e&&(e=t.currentTime+e),n(),l.start(e),d=c?t.currentTime-c:t.currentTime,u=!1,f=!0,s=!1,c=0}function r(){if(l){try{l.stop(0)}catch(e){}l=null}u=!0,s=!1,c=0,f=!1,d=0}function i(){var e=t.currentTime-d;r(),c=e,f=!1,s=!0}function a(){r(),t=null,l=null}var u=!1,s=!1,c=0,f=!1,l=null,d=0,h=200,p=null;return p={play:o,pause:i,stop:r,destroy:a},Object.defineProperties(p,{currentTime:{get:function(){return c?c:d?t.currentTime-d:0}},duration:{value:0},ended:{get:function(){return u}},frequency:{get:function(){return h},set:function(e){h=e,l&&(l.frequency.value=e)}},paused:{get:function(){return s}},playing:{get:function(){return f}},progress:{value:0},sourceNode:{get:function(){return n()}}}),Object.freeze(p)}function O(e,t){function n(){return!v&&t&&(v=t.createScriptProcessor(s,0,c)),v}function o(){n(),v.onaudioprocess=l,_=t.currentTime-h,f=!1,d=!1,h=0,p=!0}function r(e){for(var t=e.outputBuffer,n=0;n<t.numberOfChannels;n++)for(var o=t.getChannelData(n),r=0;r<o.length;r++)o[r]=0}function i(){v&&(v.onaudioprocess=r),f=!0,d=!1,h=0,p=!1,_=0}function a(){var e=t.currentTime-_;i(),h=e,p=!1,d=!0}function u(){i(),t=null,l=null,v=null}var s=e.bufferSize||1024,c=e.channels||1,f=!1,l=e.callback.bind(e.thisArg||this),d=!1,h=0,p=!1,v=null,_=0,y=null;return y={play:o,pause:a,stop:i,destroy:u,duration:0,progress:0},Object.defineProperties(y,{currentTime:{get:function(){return h?h:_?t.currentTime-_:0}},ended:{get:function(){return f}},paused:{get:function(){return d}},playing:{get:function(){return p}},sourceNode:{get:function(){return n()}}}),Object.freeze(y)}function P(e,t){function n(){r.length&&(u=r.slice(0).sort(function(e,t){return t.duration-e.duration})[0])}var o=new d(e,t),r=o.sounds,i=1,a=!1,u=void 0,s=o.add;o.add=function(e){return s(e),n(),o};var c=o.rmeove;return o.remove=function(e){return c(e),n(),o},Object.defineProperties(o,{currentTime:{get:function(){return u?u.currentTime:0},set:function(e){this.stop(),this.play(0,e)}},duration:{get:function(){return u?u.duration:0}},loop:{get:function(){return a},set:function(e){a=!!e,r.forEach(function(e){e.loop=a})}},paused:{get:function(){return!!u&&u.paused}},progress:{get:function(){return u?u.progress:0}},playbackRate:{get:function(){return i},set:function(e){i=e,r.forEach(function(e){e.playbackRate=i})}},playing:{get:function(){return!!u&&u.playing}}}),o}function C(){function e(e){return q.find(e)}function t(e){var t=new P(X,q.gain);return e&&e.forEach(function(e){return t.add(e)}),t}function n(e){var t=e&&e.webAudio===!1?null:X,n=ue.getSupportedFile(e.src||e.url||e.data||e),o=new pe(Object.assign({},e||{},{src:n,context:t,destination:q.gain}));return o.isTouchLocked=D,e&&(o.id=e.id||e.name||"",o.loop=!!e.loop,o.volume=e.volume),q.add(o),o}function o(e,t){var o=n(e).load();return t&&t.add(o.loader),o}function r(e){var t=e.src||e.url||e.data||e,n=void 0,r=void 0;if(ue.containsURL(t))n=o(e),r=n.loader;else{if(!Array.isArray(t)||!ue.containsURL(t[0].src||t[0].url)){var i="sono.load: No audio file URLs found in config.";if(!e.onError)throw new Error(i);return e.onError("[ERROR] "+i),null}n=[],r=new g.Group,t.forEach(function(e){return n.push(o(e,r))})}return e.onProgress&&r.on("progress",function(t){return e.onProgress(t)}),e.onComplete&&r.once("complete",function(){r.off("progress"),e.onComplete(n)}),r.once("error",function(t){r.off("error"),e.onError&&e.onError(t)}),r.start(),n}function i(e){if(ue.containsURL(e))return r(e);var t=n(e);return t.data=e.data||e,t}function a(e){return q.find(e,function(e){return e.destroy()}),R}function u(){return q.destroy(),R}function s(){return q.mute(),R}function c(){return q.unMute(),R}function f(e,t){return q.fade(e,t),R}function l(){return q.pause(),R}function h(){return q.resume(),R}function p(){return q.stop(),R}function v(e,t,n){return q.find(e,function(e){return e.play(t,n)}),R}function _(e){return q.find(e,function(e){return e.pause()}),R}function y(e){return q.find(e,function(e){return e.stop()}),R}function m(){var e="sono "+C,t="Supported:"+R.isSupported+" WebAudioAPI:"+R.hasWebAudio+" TouchLocked:"+D+" State:"+(X&&X.state)+" Extensions:"+ue.extensions;if(navigator.userAgent.indexOf("Chrome")>-1){var n=["%c ♫ "+e+" ♫ %c "+t+" ","color: #FFFFFF; background: #379F7A","color: #1F1C0D; background: #E0FBAC"];console.log.apply(console,n)}else window.console&&window.console.log.call&&console.log.call(console,e+" "+t)}function b(e,t){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];return n.length?n.forEach(function(n){n[e]=t}):se.prototype[e]=function(e){return this.add(t(e))},R[e]=t,t}var w,k,x,T,S,L,A,E,M,O,C="0.1.9",q=new d(X,X.destination),R=null,D=!1;return D=Z.handleTouchLock(X,function(){D=!1,q.sounds.forEach(function(e){return e.isTouchLocked=!1})}),function(){function e(){q.sounds.forEach(function(e){e.playing&&(e.pause(),n.push(e))})}function t(){for(;n.length;)n.pop().play()}var n=[];Z.handlePageVisibility(e,t)}(),M={canPlay:ue.canPlay,context:X,create:i,createGroup:t,createSound:i,destroyAll:u,destroySound:a,Effects:se,effects:q.effects,extensions:ue.extensions,fade:f,file:ue,gain:q.gain,getOfflineContext:he.getOfflineContext,getSound:e,Group:d,hasWebAudio:!X.isFake,isSupported:ue.extensions.length>0,load:r,log:m,mute:s,pause:_,pauseAll:l,play:v,register:b,resumeAll:h,Sound:pe,stop:y,stopAll:p,unMute:c,utils:he,VERSION:C},w="effects",O={},O[w]=O[w]||{},O[w].get=function(){return q.effects},k="effects",O[k]=O[k]||{},O[k].set=function(e){q.effects.removeAll().add(e)},x="fx",O[x]=O[x]||{},O[x].get=function(){return this.effects},T="fx",O[T]=O[T]||{},O[T].set=function(e){this.effects=e},S="isTouchLocked",O[S]=O[S]||{},O[S].get=function(){return D},L="sounds",O[L]=O[L]||{},O[L].get=function(){return q.sounds.slice(0)},A="volume",O[A]=O[A]||{},O[A].get=function(){return q.volume},E="volume",O[E]=O[E]||{},O[E].set=function(e){q.volume=e},$(M,O),R=M,R}function q(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function R(e){var t=12*(Math.log(e/440)*Math.LOG2E);return Math.round(t)+69}function D(e){return 440*Math.pow(2,(e-69)/12)}function F(e,t){return Math.floor(1200*Math.log(e/D(t))*Math.LOG2E)}function V(e,t){return q(e)?e:t}function G(e){var t=Math.log(xe/ke)/Math.LN2,n=Math.pow(2,t*(e-1));return xe*n}function j(e,t){return q(e)?e:t}function z(e,t){var n=e.x,o=e.y,r=e.z,i=t.x,a=t.y,u=t.z;e.x=o*u-r*a,e.y=r*i-n*u,e.z=n*a-o*i}function B(e){if(0===e.x&&0===e.y&&0===e.z)return e;var t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z),n=1/t;return e.x*=n,e.y*=n,e.z*=n,e}function N(e){return"undefined"!=typeof e}function U(e){var t=e.time,n=e.decay,o=e.reverse,r=e.buffer,i=ve.context.sampleRate,a=Math.floor(i*t),u=void 0;u=r&&r.length===a?r:ve.context.createBuffer(2,a,i);for(var s=u.getChannelData(0),c=u.getChannelData(1),f=void 0,l=void 0,d=0;d<a;d++)f=o?a-d:d,l=Math.pow(1-f/a,n),s[d]=(2*Math.random()-1)*l,c[d]=(2*Math.random()-1)*l;return u}function W(e,t,n){function o(t){c=t,e(c)}function r(e){t&&"PermissionDeniedError"===e.name||"PERMISSION_DENIED"===e?t():n(e.message||e)}function i(){return u?(navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}).then(o).catch(r):navigator.getUserMedia({audio:!0},o,r),s):s}function a(){return c.stop?c.stop():c.getAudioTracks()[0].stop(),c=null,s}navigator.getUserMedia=navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,n=n||function(e){};var u=!!navigator.getUserMedia,s={},c=null;return Object.assign(s,{connect:i,disconnect:a,isSupported:u,get stream(){return c}})}function I(){function e(e,t){for(var n=new Float32Array(t),o=0,r=0;r<e.length;r++)n.set(e[r],o),o+=e[r].length;return n}function t(){if(!a.length)return ve.context.createBuffer(2,i,ve.context.sampleRate);var t=a.length*i,n=ve.context.createBuffer(2,t,ve.context.sampleRate);return n.getChannelData(0).set(e(a,t)),n.getChannelData(1).set(e(u,t)),n}function n(){f&&(f.onaudioprocess=null,h.disconnect(),f.disconnect())}function o(){n(),f=ve.context.createScriptProcessor(i,2,2),h.connect(f),f.connect(p),f.connect(ve.context.destination),f.onaudioprocess=function(e){var t=e.inputBuffer.getChannelData(0),n=e.inputBuffer.getChannelData(1);if(r){var o=e.outputBuffer.getChannelData(0),i=e.outputBuffer.getChannelData(1);o.set(t),i.set(n)}l&&(a.push(new Float32Array(t)),u.push(new Float32Array(n)))}}var r=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],i=4096,a=[],u=[],s=0,c=0,f=null,l=!1,d=null,h=ve.context.createGain(),p=ve.context.createGain();p.gain.value=r?1:0;var v={in:h,out:p};return{start:function(e){e&&(o(),a.length=0,u.length=0,s=ve.context.currentTime,c=0,d=e,e.effect.add(v),l=!0)},stop:function(){return d.effect.remove(v),d=null,c=ve.context.currentTime,l=!1,n(),t()},getDuration:function(){return l?ve.context.currentTime-s:c-s},get isRecording(){return l}}}function H(){var e=void 0,t=void 0;return function(n,o){if(!window.Float32Array||!window.AudioBuffer)return[];var r=e===n,i=t&&t.length===o;if(r&&i)return t;if(t&&t.length===o||(t=new Float32Array(o)),!n)return t;e=n;for(var a=Math.floor(e.length/o),u=5,s=Math.max(Math.floor(a/u),1),c=0,f=0;f<e.numberOfChannels;f++)for(var l=e.getChannelData(f),d=0;d<o;d++)for(var h=d*a,p=h+a;h<p;h+=s){var v=l[h];v<0&&(v=-v),v>t[d]&&(t[d]=v),v>c&&(c=v)}for(var _=1/c,y=0;y<t.length;y++)t[y]*=_;return t}}function Q(e){function t(){c?(g.fillStyle=c,g.fillRect(d,h,_,y)):g.clearRect(d,h,_,y),g.lineWidth=f,m=null,"function"!=typeof s&&(g.strokeStyle=s,g.beginPath())}function n(e,t,n){if("function"==typeof s){var o=s(e,t,n);o!==m&&(m=o,g.stroke(),g.strokeStyle=m,g.beginPath())}}function o(e,t,n){return"function"==typeof p?p(e,t,n):e}function r(t,n){return t&&"function"==typeof t.waveform?t.waveform(n):t?t:e.waveform?e.waveform:e.sound?e.sound.waveform(n):null}function i(e){if(t(),"circular"===u){var i=r(e,360),s=Math.floor(i.length*l),c=Ve/s,p=void 0,v=void 0,m=void 0,A=void 0;for(b=0;b<s;b++){var E=o(i[b],b,s);n(b,s,E),p=b*c-Fe,A=Math.cos(p),m=Math.sin(p),"fill"===a&&(w=S+T*A,k=L+T*m,g.moveTo(w,k)),v=T+(x-T)*E,w=S+v*A,k=L+v*m,"line"===a&&0===b&&g.moveTo(w,k),g.lineTo(w,k)}"line"===a&&g.closePath()}else{var M=r(e,_),O=Math.min(M.length,_-f/2);for(O=Math.floor(O*l),b=0;b<O;b++){var P=o(M[b],b,O);n(b,O,P),"line"===a&&b>0&&g.lineTo(w,k),w=d+b,k=h+y-Math.round(y*P),k=Math.floor(Math.min(k,h+y-f/2)),"fill"===a?(g.moveTo(w,k),g.lineTo(w,h+y)):g.lineTo(w,k)}}g.stroke()}var a=e.style||"fill",u=e.shape||"linear",s=e.color||0,c=e.bgColor,f=e.lineWidth||1,l=e.percent||1,d=e.x||0,h=e.y||0,p=e.transform,v=e.canvas,_=e.width||v&&v.width,y=e.height||v&&v.height,g=null,m=void 0,b=void 0,w=void 0,k=void 0,x=void 0,T=void 0,S=void 0,L=void 0;return v||e.context||(v=document.createElement("canvas"),_=_||v.width,y=y||v.height,v.width=y,v.height=y),"circular"===u&&(x=e.radius||Math.min(y/2,_/2),T=e.innerRadius||x/2,S=d+_/2,L=h+y/2),g=e.context||v.getContext("2d"),i.canvas=v,(e.waveform||e.sound)&&i(),i}var X=t(),Z={};Z.handlePageVisibility=function(e,t){function n(){document[o]?e():t()}var o=void 0,r=void 0;"undefined"!=typeof document.hidden?(o="hidden",r="visibilitychange"):"undefined"!=typeof document.mozHidden?(o="mozHidden",r="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(o="msHidden",r="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(o="webkitHidden",r="webkitvisibilitychange"),"undefined"!=typeof r&&document.addEventListener(r,n,!1)},Z.handleTouchLock=function(e,t){function n(){e&&"suspended"===e.state?e.resume().then(function(){var o=e.createBuffer(1,1,44100),r=e.createBufferSource();r.buffer=o,r.connect(e.destination),r.start(0),r.stop(0),r.disconnect(),document.body.removeEventListener("touchend",n),t()}):(document.body.removeEventListener("touchend",n),t())}var o=navigator.userAgent,r=!!o.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Windows Phone|SymbianOS/i);return r&&document.body.addEventListener("touchend",n,!1),r};var K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},J=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Y=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),$=function(e,t){for(var n in t){var o=t[n];o.configurable=o.enumerable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n,o)}return e},ee=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},te=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},ne=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},oe=[],re={},ie=[{ext:"ogg",type:'audio/ogg; codecs="vorbis"'},{ext:"mp3",type:"audio/mpeg;"},{ext:"opus",type:'audio/ogg; codecs="opus"'},{ext:"wav",type:'audio/wav; codecs="1"'},{ext:"m4a",type:"audio/x-m4a;"},{ext:"m4a",type:"audio/aac;"}],ae=document.createElement("audio");ae&&(ie.forEach(function(e){var t=!!ae.canPlayType(e.type);t&&oe.indexOf(e.ext)===-1&&oe.push(e.ext),re[e.ext]=t}),ae=null);var ue={canPlay:re,containsURL:l,extensions:oe,getFileExtension:n,getSupportedFile:o,isAudioBuffer:r,isMediaElement:a,isMediaStream:u,isOscillatorType:s,isScriptConfig:c,isURL:f},se=function(){function e(t){var n=this;J(this,e),this.context=t,this._destination=null,this._source=null,this._nodes=[],this._nodes.has=function(e){return n.has(e)},this._nodes.add=function(e){return n.add(e)},this._nodes.remove=function(e){return n.remove(e)},this._nodes.toggle=function(e,t){return n.toggle(e,t)},this._nodes.removeAll=function(){return n.removeAll()},Object.keys(e.prototype).forEach(function(t){n._nodes.hasOwnProperty(t)||"function"!=typeof e.prototype[t]||(n._nodes[t]=n[t].bind(n))})}return e.prototype.setSource=function(e){return this._source=e,this._updateConnections(),e},e.prototype.setDestination=function(e){return this._connectToDestination(e),e},e.prototype.has=function(e){return!!e&&this._nodes.indexOf(e)>-1},e.prototype.add=function(e){if(!e)return null;if(this.has(e))return e;if(Array.isArray(e)){for(var t=void 0,n=0;n<e.length;n++)t=this.add(e[n]);return t}return this._nodes.push(e),this._updateConnections(),e},e.prototype.remove=function(e){if(!e)return null;if(!this.has(e))return e;for(var t=this._nodes.length,n=0;n<t;n++)if(e===this._nodes[n]){this._nodes.splice(n,1);break}return e.disconnect(),this._updateConnections(),e},e.prototype.toggle=function(e,t){t=!!t;var n=this.has(e);return arguments.length>1&&n===t?this:(n?this.remove(e):this.add(e),this)},e.prototype.removeAll=function(){for(;this._nodes.length;){var e=this._nodes.pop();e.disconnect()}return this._updateConnections(),this},e.prototype.destroy=function(){this.removeAll(),this.context=null,this._destination=null,this._source&&this._source.disconnect(),this._source=null},e.prototype._connect=function(e,t){e.disconnect(),e.connect(t._in||t)},e.prototype._connectToDestination=function(e){var t=this._nodes[this._nodes.length-1]||this._source;t&&this._connect(t,e),this._destination=e},e.prototype._updateConnections=function(){if(this._source){for(var e=void 0,t=void 0,n=0;n<this._nodes.length;n++)e=this._nodes[n],t=0===n?this._source:this._nodes[n-1],this._connect(t,e);this._destination&&this._connectToDestination(this._destination)}},e}();d.Effects=se;var ce=h;h.EventEmitter=h,h.prototype._events=void 0,h.prototype._maxListeners=void 0,h.defaultMaxListeners=10,h.prototype.setMaxListeners=function(e){if(!v(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},h.prototype.emit=function(e){var t,n,o,r,i,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||_(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(n=this._events[e],y(n))return!1;if(p(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),n.apply(this,r)}else if(_(n))for(r=Array.prototype.slice.call(arguments,1),a=n.slice(),o=a.length,i=0;i<o;i++)a[i].apply(this,r);return!0},h.prototype.addListener=function(e,t){var n;if(!p(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,p(t.listener)?t.listener:t),this._events[e]?_(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,_(this._events[e])&&!this._events[e].warned&&(n=y(this._maxListeners)?h.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,"function"==typeof console.trace)),this},h.prototype.on=h.prototype.addListener,h.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!p(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},h.prototype.removeListener=function(e,t){var n,o,r,i;if(!p(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],r=n.length,o=-1,n===t||p(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(_(n)){for(i=r;i-- >0;)if(n[i]===t||n[i].listener&&n[i].listener===t){
o=i;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},h.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],p(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},h.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?p(this._events[e])?[this._events[e]]:this._events[e].slice():[]},h.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(p(t))return 1;if(t)return t.length}return 0},h.listenerCount=function(e,t){return e.listenerCount(t)};var fe=ce.EventEmitter,le=function(e){function t(){return J(this,t),ne(this,e.call(this))}return ee(t,e),t.prototype.off=function(e,t){return t?this.removeListener(e,t):e?this.removeAllListeners(e):this.removeAllListeners()},t}(fe);g.Group=function(){function e(e){var t=c+e;u.emit("progress",t/f)}function t(){c++,r(),u.emit("progress",c/f),o()}function n(e){r(),u.emit("error",e),o()}function o(){return 0===s.length?(l=null,void u.emit("complete")):(l=s.pop(),l.on("progress",e),l.once("loaded",t),l.once("error",n),void l.start())}function r(){l.off("progress",e),l.off("loaded",t),l.off("error",n)}function i(e){return s.push(e),f++,e}function a(){f=s.length,o()}var u=new le,s=[],c=0,f=0,l=void 0;return Object.freeze({on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),add:i,start:a})};var de=void 0,he={getOfflineContext:b,cloneBuffer:w,reverseBuffer:k,ramp:x,getFrequency:T,timeCode:S},pe=function(e){function t(n){J(this,t);var o=ne(this,e.call(this));return o.id=n.id||null,o._context=n.context||X,o._destination=n.destination||o._context.destination,o._effects=new se(o._context),o._gain=o._context.createGain(),o._config=n,o._data=null,o._isTouchLocked=!1,o._loader=null,o._loop=!1,o._playbackRate=1,o._playWhenReady=null,o._source=null,o._wave=null,o._effects.setDestination(o._gain),o._gain.connect(o._destination),o._onEnded=o._onEnded.bind(o),o._onLoad=o._onLoad.bind(o),o._onLoadError=o._onLoadError.bind(o),o}return ee(t,e),t.prototype.load=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=!t&&!this._source&&!!this._config.deferLoad;if(e){var o=e.src||e.url||e.data||e,r=ue.getSupportedFile(o)||this._config.src;this._config=Object.assign(this._config,e,{src:r})}return this._source&&this._data&&this._data.tagName?this._source.load(this._config.src):(this._loader=this._loader||new g(this._config.src,n),this._loader.audioContext=this._config.asMediaElement||this._context.isFake?null:this._context,this._loader.isTouchLocked=this._isTouchLocked,this._loader.off("loaded",this._onLoad),this._loader.once("loaded",this._onLoad),this._loader.off("error",this._onLoadError),this._loader.on("error",this._onLoadError)),this},t.prototype.play=function(e,t){var n=this;return!this._source||this._isTouchLocked?(this._playWhenReady=function(){n._source&&n.play(e,t)},this._config.deferLoad&&(this._loader||this._load(null,!0),this._loader.start(!0)),this):(this._playWhenReady=null,this._effects.setSource(this._source.sourceNode),this._context.isFake&&(this.volume=this._gain.gain.value),this._source.play(e,t),this._source.hasOwnProperty("loop")&&(this._source.loop=this._loop),this.emit("play",this),this)},t.prototype.pause=function(){return this._source&&this._source.pause(),this.emit("pause",this),this},t.prototype.stop=function(e){return this._source&&this._source.stop(e||0),this.emit("stop",this),this},t.prototype.seek=function(e){return this._source&&(this._source.stop(),this.play(0,this._source.duration*e)),this},t.prototype.fade=function(e){var t=arguments.length<=1||void 0===arguments[1]?1:arguments[1];if(!this._source)return this;var n=this._gain.gain;if(this._context&&!this._context.isFake){var o=this._context.currentTime;n.cancelScheduledValues(o),n.setValueAtTime(n.value,o),n.linearRampToValueAtTime(e,o+t)}else"function"==typeof this._source.fade&&(this._source.fade(e,t),n.value=e);return this.emit("fade",this,e),this},t.prototype.unload=function(){this._source&&this._source.destroy(),this._loader&&this._loader.destroy(),this._data=null,this._playWhenReady=null,this._source=null,this._loader=null,this._config.deferLoad=!0,this.emit("unload",this)},t.prototype.reload=function(){return this.load(null,!0)},t.prototype.destroy=function(){this._source&&this._source.destroy(),this._effects&&this._effects.destroy(),this._gain&&this._gain.disconnect(),this._loader&&(this._loader.off("loaded"),this._loader.off("error"),this._loader.destroy()),this._gain=null,this._context=null,this._destination=null,this._data=null,this._playWhenReady=null,this._source=null,this._effects=null,this._loader=null,this._config=null,this.emit("destroy",this),this.off()},t.prototype.has=function(e){return this._effects.has(e)},t.prototype.add=function(e){return this._effects.add(e)},t.prototype.remove=function(e){return this._effects.remove(e)},t.prototype.toggle=function(e,t){return this._effects.toggle(e,t),this},t.prototype.removeAll=function(){return this._effects.removeAll(),this},t.prototype.waveform=function(e){var t=this;return this._wave||(this._wave=he.waveform()),this._data||this.once("ready",function(){return t._wave(t._data,e)}),this._wave(this._data,e)},t.prototype._createSource=function(e){this._data=e;var t=ue.isAudioBuffer(e);if(t||ue.isMediaElement(e)){var n=t?m:A;this._source=new L(n,e,this._context,this._onEnded),this._source.multiPlay=!!this._config.multiPlay}else if(ue.isMediaStream(e))this._source=new E(e,this._context);else if(ue.isOscillatorType(e&&e.type||e))this._source=new M(e.type||e,this._context);else{if(!ue.isScriptConfig(e))throw new Error("Cannot detect data type: "+e);this._source=new O(e,this._context)}this._effects.setSource(this._source.sourceNode),this.emit("ready",this),this._playWhenReady&&this._playWhenReady()},t.prototype._onEnded=function(){this.emit("ended",this)},t.prototype._onLoad=function(e){this._createSource(e),this.emit("loaded",this)},t.prototype._onLoadError=function(e){this.emit("error",this,e)},Y(t,[{key:"currentTime",get:function(){return this._source?this._source.currentTime:0},set:function(e){this._source&&this._source.stop(),this.play(0,e)}},{key:"context",get:function(){return this._context}},{key:"data",get:function(){return this._data},set:function(e){e&&this._createSource(e)}},{key:"duration",get:function(){return this._source?this._source.duration:0}},{key:"effects",get:function(){return this._effects._nodes},set:function(e){this._effects.removeAll().add(e)}},{key:"fx",get:function(){return this.effects},set:function(e){this.effects=e}},{key:"ended",get:function(){return!!this._source&&this._source.ended}},{key:"frequency",get:function(){return this._source?this._source.frequency:0},set:function(e){this._source&&this._source.hasOwnProperty("frequency")&&(this._source.frequency=e)}},{key:"gain",get:function(){return this._gain}},{key:"groupVolume",get:function(){return this._source.groupVolume},set:function(e){this._source&&this._source.hasOwnProperty("groupVolume")&&(this._source.groupVolume=e)}},{key:"isTouchLocked",set:function(e){this._isTouchLocked=e,this._loader&&(this._loader.isTouchLocked=e),!e&&this._playWhenReady&&this._playWhenReady()}},{key:"loader",get:function(){return this._loader}},{key:"loop",get:function(){return this._loop},set:function(e){this._loop=!!e,this._source&&this._source.hasOwnProperty("loop")&&this._source.loop!==this._loop&&(this._source.loop=this._loop)}},{key:"multiPlay",get:function(){return this._config.multiPlay},set:function(e){this._config.multiPlay=e,this._source.multiPlay=e}},{key:"config",get:function(){return this._config}},{key:"paused",get:function(){return!!this._source&&this._source.paused}},{key:"playing",get:function(){return!!this._source&&this._source.playing}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(e){this._playbackRate=e,this._source&&(this._source.playbackRate=e)}},{key:"progress",get:function(){return this._source?this._source.progress||0:0}},{key:"sourceInfo",get:function(){return this._source&&this._source.info?this._source.info:{}}},{key:"sourceNode",get:function(){return this._source?this._source.sourceNode:null}},{key:"volume",get:function(){return this._context&&!this._context.isFake?this._gain.gain.value:this._source&&this._source.hasOwnProperty("volume")?this._source.volume:1},set:function(e){if(!isNaN(e)){e=Math.min(Math.max(e,0),1);var t=this._gain.gain;if(this._context&&!this._context.isFake){var n=this._context.currentTime;t.cancelScheduledValues(n),t.value=e,t.setValueAtTime(e,n)}else t.value=e,this._source&&this._source.hasOwnProperty("volume")&&(this._source.volume=e)}}},{key:"userData",get:function(){return{}}}]),t}(le);pe.__source={BufferSource:m,MediaSource:A,MicrophoneSource:E,OscillatorSource:M,ScriptSource:O};var ve=new C,_e=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];J(this,e),this._in=t||this.context.createGain(),this._out=t||this.context.createGain(),t&&(this._node=t)}return e.prototype.connect=function(e){this._out.connect(e._in||e)},e.prototype.disconnect=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._out.disconnect(t)},e.prototype.setSafeParamValue=function(e,t){q(t)&&(e.value=t)},e.prototype.update=function(){throw new Error("update must be overridden")},Y(e,[{key:"context",get:function(){return X}},{key:"numberOfInputs",get:function(){return 1}},{key:"numberOfOutputs",get:function(){return 1}},{key:"channelCount",get:function(){return 1}},{key:"channelCountMode",get:function(){return"max"}},{key:"channelInterpretation",get:function(){return"speakers"}}]),e}(),ye=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=n.fftSize,r=void 0===o?512:o,i=n.float,a=void 0!==i&&i,u=n.minDecibels,s=void 0===u?0:u,c=n.maxDecibels,f=void 0===c?0:c,l=n.smoothing,d=void 0===l?.9:l;J(this,t);var h=ne(this,e.call(this,ve.context.createAnalyser()));return h._freqFloat=!!a,h._waveFloat=!!a,h._waveform=null,h._frequencies=null,h._node.fftSize=r,h._node.smoothingTimeConstant=d||h._node.smoothingTimeConstant,h._node.minDecibels=s||h._node.minDecibels,h._node.maxDecibels=f||h._node.maxDecibels,h}return ee(t,e),t.prototype.update=function(){},t.prototype.getWaveform=function(e){return arguments.length||(e=this._waveFloat),this._needsUpdate(this._waveform,e)&&(this._fftSize=this._node.fftSize,this._waveFloat=e,this._waveform=this._createArray(e,this._fftSize)),e&&this._node.getFloatTimeDomainData?this._node.getFloatTimeDomainData(this._waveform):this._node.getByteTimeDomainData(this._waveform),this._waveform},t.prototype.getFrequencies=function(e){return arguments.length||(e=this._freqFloat),this._needsUpdate(this._frequencies,e)&&(this._fftSize=this._node.fftSize,this._freqFloat=e,this._frequencies=this._createArray(e,this._node.frequencyBinCount)),e?this._node.getFloatFrequencyData(this._frequencies):this._node.getByteFrequencyData(this._frequencies),this._frequencies},t.prototype.getAmplitude=function(e){this._amplitudeWorker||this._createAmplitudeAnalyser(),this._amplitudeCallback=e||this._amplitudeCallback;var t=new Float32Array(this._node.fftSize);t.set(this.getFrequencies(!0)),this._amplitudeWorker.postMessage({sum:0,length:t.byteLength,numSamples:this._node.fftSize/2,b:t.buffer},[t.buffer])},t.prototype.getPitch=function(e){this._pitchWorker||this._createPitchAnalyser(),this._pitchCallback=e||this._pitchCallback;var t=new Float32Array(this._node.fftSize);t.set(this.getWaveform(!0)),this._pitchWorker.postMessage({sampleRate:ve.context.sampleRate,b:t.buffer},[t.buffer])},t.prototype._needsUpdate=function(e,t){return!e||(this._node.fftSize!==this._fftSize||(!!(t&&e instanceof Uint8Array)||!t&&e instanceof Float32Array))},t.prototype._createArray=function(e,t){return e?new Float32Array(t):new Uint8Array(t)},t.prototype._createAmplitudeAnalyser=function(){var e=this,t=new Blob(["onmessage = function(e) {\n                var data = e.data;\n                var f = new Float32Array(data.b);\n                for (var i = 0; i < f.length; i++) {\n                    data.sum += f[i];\n                }\n                data.sum /= f.length;\n                postMessage(Math.max(1.0 - (data.sum / data.numSamples * -1.0), 0));\n            };"]),n=URL.createObjectURL(t);this._amplitudeWorker=new Worker(n),this._amplitudeWorker.onmessage=function(t){e._amplitudeCallback&&e._amplitudeCallback(t.data)}},t.prototype._createPitchAnalyser=function(){var e=this,t=new Blob(["onmessage = function(e) {\n                var data = e.data;\n                var sampleRate = data.sampleRate;\n                var buf = new Float32Array(data.b);\n                var SIZE = buf.length;\n                var MAX_SAMPLES = Math.floor(SIZE / 2);\n                var bestOffset = -1;\n                var bestCorrel = 0;\n                var rms = 0;\n                var foundGoodCorrelation = false;\n                var correls = new Array(MAX_SAMPLES);\n                for (var i = 0; i < SIZE; i++) {\n                    var val = buf[i];\n                    rms += val * val;\n                }\n                rms = Math.sqrt(rms / SIZE);\n                if (rms < 0.01) {\n                    postMessage(-1);\n                } else {\n                    var lastCorrelation = 1;\n                    for (var offset = 0; offset < MAX_SAMPLES; offset++) {\n                        var correl = 0;\n                        for (var i = 0; i < MAX_SAMPLES; i++) {\n                            correl += Math.abs(buf[i] - buf[i + offset]);\n                        }\n                        correl = 1 - correl / MAX_SAMPLES;\n                        correls[offset] = correl;\n                        if (correl > 0.9 && correl > lastCorrelation) {\n                            foundGoodCorrelation = true;\n                            if (correl > bestCorrel) {\n                                bestCorrel = correl;\n                                bestOffset = offset;\n                            }\n                        } else if (foundGoodCorrelation) {\n                            var shift = (correls[bestOffset + 1] - correls[bestOffset - 1]) / correls[bestOffset];\n                            postMessage(sampleRate / (bestOffset + 8 * shift));\n                        }\n                        lastCorrelation = correl;\n                    }\n                    if (bestCorrel > 0.01) {\n                        postMessage(sampleRate / bestOffset);\n                    } else {\n                        postMessage(-1);\n                    }\n                }\n            };"]),n=URL.createObjectURL(t);this._pitchWorker=new Worker(n);var o=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],r={hertz:0,note:"",noteIndex:0,detuneCents:0,detune:""};this._pitchWorker.onmessage=function(t){if(e._pitchCallback){var n=t.data;if(n!==-1){var i=R(n),a=F(n,i);r.hertz=n,r.noteIndex=i%12,r.note=o[i%12],r.detuneCents=a,0===a?r.detune="":a<0?r.detune="flat":r.detune="sharp"}e._pitchCallback(r)}}},Y(t,[{key:"smoothing",get:function(){return this._node.smoothingTimeConstant},set:function(e){this._node.smoothingTimeConstant=e}}]),t}(_e);ve.register("analyser",function(e){return new ye(e)});var ge=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=n.threshold,r=void 0===o?-24:o,i=n.knee,a=void 0===i?30:i,u=n.ratio,s=void 0===u?12:u,c=n.attack,f=void 0===c?3e-4:c,l=n.release,d=void 0===l?.25:l;J(this,t);var h=ne(this,e.call(this,ve.context.createDynamicsCompressor()));return h.update({threshold:r,knee:a,ratio:s,attack:f,release:d}),h}return ee(t,e),t.prototype.update=function(e){this.setSafeParamValue(this._node.threshold,e.threshold),this.setSafeParamValue(this._node.knee,e.knee),this.setSafeParamValue(this._node.ratio,e.ratio),this.setSafeParamValue(this._node.attack,e.attack),this.setSafeParamValue(this._node.release,e.release)},t}(_e);ve.register("compressor",function(e){return new ge(e)});var me=22050,be=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=n.level,r=void 0===o?1:o;J(this,t);var i=ne(this,e.call(this,ve.context.createWaveShaper()));return i._curve=new Float32Array(me),i._level=0,i.update({level:r}),i}return ee(t,e),t.prototype.update=function(e){var t=e.level;if(t!==this._level&&q(t)){if(t<=0)return void(this._node.curve=null);for(var n=100*t,o=Math.PI/180,r=void 0,i=0;i<me;i++)r=2*i/me-1,this._curve[i]=(3+n)*r*20*o/(Math.PI+n*Math.abs(r));this._level=t,this._node.curve=this._curve}},Y(t,[{key:"level",get:function(){return this._level},set:function(e){this.update({level:e})}}]),t}(_e);ve.register("distortion",function(e){return new be(e)});var we=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=n.delay,r=void 0===o?.5:o,i=n.feedback,a=void 0===i?.5:i;J(this,t);var u=ne(this,e.call(this));return u._delay=u.context.createDelay(),u._feedback=u.context.createGain(),u._in.connect(u._delay),u._in.connect(u._out),u._delay.connect(u._feedback),u._feedback.connect(u._delay),u._feedback.connect(u._out),u.delay=r,u.feedback=a,u}return ee(t,e),t.prototype.update=function(e){this.delay=e.delay,this.feedback=e.feedback},Y(t,[{key:"delay",get:function(){return this._delay.delayTime.value},set:function(e){this.setSafeParamValue(this._delay.delayTime,e)}},{key:"feedback",get:function(){return this._feedback.gain.value},set:function(e){this.setSafeParamValue(this._feedback.gain,e)}}]),t}(_e);ve.register("echo",function(e){return new we(e)});var ke=40,xe=ve.context.sampleRate/2,Te=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=n.type,r=void 0===o?"lowpass":o,i=n.frequency,a=void 0===i?1e3:i,u=n.q,s=void 0===u?0:u,c=n.gain,f=void 0===c?1:c;J(this,t);var l=ne(this,e.call(this,ve.context.createBiquadFilter()));return l._node.type=r,l.update({frequency:a,q:s,gain:f}),l}return ee(t,e),t.prototype.update=function(e){this.setSafeParamValue(this._node.frequency,e.frequency),this.setSafeParamValue(this._node.Q,e.q),this.setSafeParamValue(this._node.gain,e.gain)},t.prototype.setByPercent=function(e){var t=e.percent,n=void 0===t?.5:t;this.update({frequency:G(n)})},Y(t,[{key:"frequency",get:function(){return this._node.frequency.value},set:function(e){this.setSafeParamValue(this._node.frequency,e)}},{key:"q",get:function(){return this._node.Q.value},set:function(e){this.setSafeParamValue(this._node.Q,e)}},{key:"Q",get:function(){return this._node.Q.value},set:function(e){this.setSafeParamValue(this._node.Q,e)}},{key:"gain",get:function(){return this._node.gain.value},set:function(e){this.setSafeParamValue(this._node.gain,e)}},{key:"detune",get:function(){return this._node.detune.value},set:function(e){this.setSafeParamValue(this._node.detune,e)}}]),t}(_e);ve.register("lowpass",function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.frequency,n=e.peak,o=e.q;return new Te({type:"lowpass",frequency:t,q:V(n,o)})}),ve.register("highpass",function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.frequency,n=e.peak,o=e.q;return new Te({type:"highpass",frequency:t,q:V(n,o)})}),ve.register("bandpass",function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.frequency,n=e.width,o=e.q;return new Te({type:"bandpass",frequency:t,q:V(n,o)})}),ve.register("lowshelf",function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.frequency,n=e.gain;return new Te({type:"lowshelf",frequency:t,q:0,gain:n})}),ve.register("highshelf",function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.frequency,n=e.gain;return new Te({type:"highshelf",frequency:t,q:0,gain:n})}),ve.register("peaking",function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.frequency,n=e.width,o=e.gain;return new Te({type:"peaking",frequency:t,q:n,gain:o})}),ve.register("notch",function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.frequency,n=e.width,o=e.gain,r=e.q;return new Te({type:"notch",frequency:t,q:V(n,r),gain:o})}),ve.register("allpass",function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.frequency,n=e.sharpness,o=e.q;return new Te({type:"allpass",frequency:t,q:V(n,o)})}),ve.register("filter",function(e){return new Te(e)});var Se=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=n.delay,r=void 0===o?.005:o,i=n.feedback,a=void 0===i?.5:i,u=n.frequency,s=void 0===u?.002:u,c=n.gain,f=void 0===c?.25:c;J(this,t);var l=ne(this,e.call(this));return l._delay=ve.context.createDelay(),l._feedback=ve.context.createGain(),l._lfo=ve.context.createOscillator(),l._gain=ve.context.createGain(),l._lfo.type="sine",l._in.connect(l._out),l._in.connect(l._delay),l._delay.connect(l._out),l._delay.connect(l._feedback),l._feedback.connect(l._in),l._lfo.connect(l._gain),l._gain.connect(l._delay.delayTime),l._lfo.start(0),l.update({delay:r,feedback:a,frequency:s,gain:f}),l}return ee(t,e),t.prototype.update=function(e){this.delay=e.delay,this.lfoFrequency=e.lfoFrequency,this.lfoGain=e.lfoGain,this.feedback=e.feedback},Y(t,[{key:"delay",get:function(){return this._delay.delayTime.value},set:function(e){this.setSafeParamValue(this._delay.delayTime,e)}},{key:"lfoFrequency",get:function(){return this._lfo.frequency.value},set:function(e){this.setSafeParamValue(this._lfo.frequency,e)}},{key:"lfoGain",get:function(){return this._gain.gain.value},set:function(e){this.setSafeParamValue(this._gain.gain,e)}},{key:"feedback",get:function(){return this._feedback.gain.value},set:function(e){this.setSafeParamValue(this._feedback.gain,e)}}]),t}(_e);ve.register("monoFlanger",function(e){return new Se(e)});var Le=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=n.delay,r=void 0===o?.003:o,i=n.feedback,a=void 0===i?.5:i,u=n.frequency,s=void 0===u?.5:u,c=n.gain,f=void 0===c?.005:c;J(this,t);var l=ne(this,e.call(this));return l._splitter=ve.context.createChannelSplitter(2),l._merger=ve.context.createChannelMerger(2),l._feedbackL=ve.context.createGain(),l._feedbackR=ve.context.createGain(),l._lfo=ve.context.createOscillator(),l._lfoGainL=ve.context.createGain(),l._lfoGainR=ve.context.createGain(),l._delayL=ve.context.createDelay(),l._delayR=ve.context.createDelay(),l._lfo.type="sine",l._in.connect(l._splitter),l._splitter.connect(l._delayL,0),l._splitter.connect(l._delayR,1),l._delayL.connect(l._feedbackL),l._delayR.connect(l._feedbackR),l._feedbackL.connect(l._delayR),l._feedbackR.connect(l._delayL),l._delayL.connect(l._merger,0,0),l._delayR.connect(l._merger,0,1),l._merger.connect(l._out),l._in.connect(l._out),l._lfo.connect(l._lfoGainL),l._lfo.connect(l._lfoGainR),l._lfoGainL.connect(l._delayL.delayTime),l._lfoGainR.connect(l._delayR.delayTime),l._lfo.start(0),l.update({delay:r,feedback:a,frequency:s,gain:f}),l}return ee(t,e),t.prototype.update=function(e){this.delay=e.delay,this.lfoFrequency=e.lfoFrequency,this.lfoGain=e.lfoGain,this.feedback=e.feedback},Y(t,[{key:"delay",get:function(){return this._delayL.delayTime.value},set:function(e){this.setSafeParamValue(this._delayL.delayTime,e),this._delayR.delayTime.value=this._delayL.delayTime.value}},{key:"frequency",get:function(){return this._lfo.frequency.value},set:function(e){this.setSafeParamValue(this._lfo.frequency,e)}},{key:"gain",get:function(){return this._lfoGainL.gain.value},set:function(e){this.setSafeParamValue(this._lfoGainL.gain,e),this._lfoGainR.gain.value=0-this._lfoGainL.gain.value}},{key:"feedback",get:function(){return this._feedbackL.gain.value},set:function(e){this.setSafeParamValue(this._feedbackL.gain,e),this._feedbackR.gain.value=this._feedbackL.gain.value}}]),t}(_e);ve.register("stereoFlanger",function(e){return new Le(e)}),ve.register("flanger",function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return e.stereo?new Le(e):new Se(e)});var Ae={panningModel:"HRTF",distanceModel:"linear",refDistance:1,maxDistance:1e3,rolloffFactor:1,coneInnerAngle:360,coneOuterAngle:0,coneOuterGain:0},Ee={pool:[],get:function(e,t,n){var o=this.pool.length?this.pool.pop():{x:0,y:0,z:0};return"undefined"!=typeof e&&isNaN(e)&&"x"in e&&"y"in e&&"z"in e?(o.x=j(e.x,0),o.y=j(e.y),o.z=j(e.z)):(o.x=j(e),o.y=j(t),o.z=j(n)),o},dispose:function(e){this.pool.push(e)}},Me=Ee.get(0,1,0),Oe=Math.PI/4,Pe=Math.PI/2,Ce=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];te(n),J(this,t);var o=ne(this,e.call(this,ve.context.createPanner()));return o._node.panningModel=Ae.panningModel,o._node.distanceModel=Ae.distanceModel,o._node.refDistance=Ae.refDistance,o._node.maxDistance=Ae.maxDistance,o._node.rolloffFactor=Ae.rolloffFactor,o._node.coneInnerAngle=Ae.coneInnerAngle,o._node.coneOuterAngle=Ae.coneOuterAngle,o._node.coneOuterGain=Ae.coneOuterGain,o._node.setPosition(0,0,1),o._node.setOrientation(0,0,0),o}return ee(t,e),t.prototype.setOrientation=function(e,t){var n=Ee.get(t.x,t.y,t.z);z(n,Me),z(n,t),B(n),B(t),e.setOrientation(t.x,t.y,t.z,n.x,n.y,n.z),Ee.dispose(t),Ee.dispose(n)},t.prototype.setPosition=function(e,t){e.setPosition(t.x,t.y,t.z),Ee.dispose(t)},t.prototype.update=function(e){var t=e.x,n=e.y,o=e.z,r=Ee.get(t,n,o);!q(t)||q(n)||q(o)||(t=r.x,t>1&&(t=1),t<-1&&(t=-1),t*=Oe,o=t+Pe,o>Pe&&(o=Math.PI-o),r.x=Math.sin(t),r.y=0,r.z=Math.sin(o)),this.setPosition(this._node,r)},t.prototype.setSourcePosition=function(e,t,n){this.setPosition(this._node,Ee.get(e,t,n))},t.prototype.setSourceOrientation=function(e,t,n){this.setOrientation(this._node,Ee.get(e,t,n))},t.prototype.setListenerPosition=function(e,t,n){this.setPosition(ve.context.listener,Ee.get(e,t,n))},t.prototype.setListenerOrientation=function(e,t,n){this.setOrientation(ve.context.listener,Ee.get(e,t,n))},t.prototype.getDefaults=function(){return Ae},t.prototype.setDefaults=function(e){Object.keys(e).forEach(function(t){Ae[t]=e[t]})},t.prototype.set=function(e,t,n){return this.update({x:e,y:t,z:n})},t}(_e);ve.register("panner",function(e){return new Ce(e)});var qe=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=n.stages,r=void 0===o?8:o,i=n.feedback,a=void 0===i?.5:i,u=n.frequency,s=void 0===u?.5:u,c=n.gain,f=void 0===c?300:c;J(this,t);var l=ne(this,e.call(this));r=r||8,l._feedback=ve.context.createGain(),l._lfo=ve.context.createOscillator(),l._lfoGain=ve.context.createGain(),l._lfo.type="sine";for(var d=[],h=0;h<r;h++){var p=ve.context.createBiquadFilter();p.type="allpass",p.frequency.value=1e3*h,h>0&&d[h-1].connect(p),l._lfoGain.connect(p.frequency),d.push(p)}var v=d[0],_=d[d.length-1];return l._in.connect(v),l._in.connect(l._out),_.connect(l._out),_.connect(l._feedback),l._feedback.connect(v),l._lfo.connect(l._lfoGain),l._lfo.start(0),l.update({frequency:s,gain:f,feedback:a}),l}return ee(t,e),t.prototype.update=function(e){this.frequency=e.frequency,this.gain=e.gain,this.feedback=e.feedback},Y(t,[{key:"frequency",get:function(){return this._lfo.frequency.value},set:function(e){this.setSafeParamValue(this._lfo.frequency,e)}},{key:"gain",get:function(){return this._lfoGain.gain.value},set:function(e){this.setSafeParamValue(this._lfoGain.gain,e)}},{key:"feedback",get:function(){return this._feedback.gain.value},set:function(e){this.setSafeParamValue(this._feedback.gain,e)}}]),t}(_e);ve.register("phaser",function(e){return new qe(e)});var Re=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=n.time,r=void 0===o?1:o,i=n.decay,a=void 0===i?5:i,u=n.reverse,s=void 0!==u&&u;J(this,t);var c=ne(this,e.call(this));return c._length=0,c._impulseResponse=null,c._convolver=c.context.createConvolver(),c._in.connect(c._convolver),c._in.connect(c._out),c._convolver.connect(c._out),c._opts={},c.update({time:r,decay:a,reverse:s}),c}return ee(t,e),t.prototype.update=function(e){var t=e.time,n=e.decay,o=e.reverse,r=!1;t!==this._opts.time&&q(t)&&(this._opts.time=t,r=!0),n!==this._opts.decay&&q(n)&&(this._opts.decay=n,r=!0),N(o)&&o!==this._reverse&&(this._opts.reverse=o,r=!0),r&&(this._opts.buffer=U(this._opts),this._convolver.buffer=this._opts.buffer)},Y(t,[{key:"time",get:function(){return this._opts.time},set:function(e){this.update({time:e})}},{key:"decay",get:function(){return this._opts.decay},set:function(e){this.update({decay:e})}},{key:"reverse",get:function(){return this._opts.reverse},set:function(e){this.update({reverse:e})}}]),t}(_e);ve.register("reverb",function(e){return new Re(e)});var De=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=n.inputChannels,r=void 0===o?1:o,i=n.outputChannels,a=void 0===i?1:i,u=n.bufferSize,s=void 0===u?1024:u,c=n.callback,f=void 0===c?null:c;J(this,t);var l=ne(this,e.call(this,ve.context.createScriptProcessor(s,r,a)));return l._callback=f||function(e){for(var t=e.inputBuffer.getChannelData(0),n=e.outputBuffer.getChannelData(0),o=n.length,r=0;r<o;r++)n[r]=t[r]},l._node.onaudioprocess=l._callback,l}return ee(t,e),t.prototype.update=function(){},t}(_e);ve.register("script",function(e){return new De(e)}),ve.register("microphone",W,[ve.utils]),ve.register("recorder",I,[ve.utils]),ve.register("waveform",H,[ve.utils]);var Fe=Math.PI/2,Ve=2*Math.PI;return ve.register("waveformer",Q,[ve.utils]),ve});
